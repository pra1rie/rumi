#!/home/ren/bin/sofia

global files := ["hashtable", "main"]
global str := ""
global name := "main"

global compile <- static function(file) {
	sys.run("gcc -c -o obj/" + file + ".o " + file + ".c")
}

if !sys.exists("obj/") {
	sys.mkdir("obj")
}

for files { |file|
	compile(file)
	str += " obj/" + file + ".o"
}

sys.run("gcc -o " + name + str)
sys.remove("obj")

if sys.exists(name) {
	sys.run("./" + name)
	sys.remove(name)
}
